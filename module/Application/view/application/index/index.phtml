<?php
$user = $this->user;
$role = $this->escapeHtml($user['p2q_system_role']);

$isAdmin   = $role === 'admin';
$isManager = $role === 'manager';
$isSales   = $role === 'sales';
?>
<main id="content" class="main-content mt-4">
    <section class="hero fade-in-up rounded-md bg-linear-[135deg,#004b8d,#006fc2] pt-20 pr-8 pb-20 pl-8 text-center text-white">
        <h1 class="mb-2 text-4xl">Welcome to Centura Quotation System</h1>
        <p class="mt-0 mr-auto mb-0 ml-auto">Your all-in-one platform for managing projects, approvals, and architectural collaboration with ease and efficiency.</p>
    </section>

    <section class="features welcome-page fade-in-up flex flex-wrap items-center justify-center gap-4 px-4 py-6">
        <?php if ($isAdmin) : ?>
            <a href="/index/admin" class="feature fade-in-up w-100 h-35 bg-widget-background block max-w-md cursor-pointer rounded-xl p-6 text-inherit no-underline opacity-0 shadow-lg transition ease-in-out">
                <h2 class="mb-2 text-xl">Admin</h2>
                <p class="text-sm">Gain full control over user roles, permissions, and platform settings through the Admin Portal.</p>
            </a>
        <?php endif;

        if ($isAdmin || $isManager || $isSales): ?>
            <a href="/index/opportunities" class="feature fade-in-up w-100 h-35 bg-widget-background block max-w-md cursor-pointer rounded-xl p-6 text-inherit no-underline opacity-0 shadow-lg transition ease-in-out">
                <h2 class="mb-2 text-xl">Opportunities</h2>
                <p class="text-sm">Create and edit the opportunities, which can be converted to projects later.</p>
            </a>
        <?php endif;

        if ($isAdmin || $isManager || $isSales): ?>
            <a href="/index/project" class="feature fade-in-up w-100 h-35 bg-widget-background block max-w-md cursor-pointer rounded-xl p-6 text-inherit no-underline opacity-0 shadow-lg transition ease-in-out">
                <h2 class="mb-2 text-xl">Projects</h2>
                <p class="text-sm">Streamline your project workflows, track progress, and stay organized with our intuitive tools.</p>
            </a>
        <?php endif;

        if ($isAdmin || $isManager) : ?>
            <a href="/index/approval" class="feature fade-in-up w-100 h-35 bg-widget-background block max-w-md cursor-pointer rounded-xl p-6 text-inherit no-underline opacity-0 shadow-lg transition ease-in-out">
                <h2 class="mb-2 text-xl">Approval</h2>
                <p class="text-sm">Easily manage approvals and ensure every step is properly authorized and documented.</p>
            </a>
        <?php endif;

        if ($isAdmin || $isManager || $isSales): ?>
            <a href="/index/architect" class="feature fade-in-up w-100 h-35 bg-widget-background block max-w-md cursor-pointer rounded-xl p-6 text-inherit no-underline opacity-0 shadow-lg transition ease-in-out">
                <h2 class="mb-2 text-xl">Architects</h2>
                <p class="text-sm">Connect and collaborate with architects seamlessly to ensure design accuracy and quality.</p>
            </a>
        <?php endif; ?>

        <a href="/index/quotes" class="feature fade-in-up w-100 h-35 bg-widget-background block max-w-md cursor-pointer rounded-xl p-6 text-inherit no-underline opacity-0 shadow-lg transition ease-in-out">
            <h2 class="mb-2 text-xl">Quoted Items</h2>
            <p class="text-sm">Search through quotes, customers and items.</p>
        </a>

        <?php if ($isAdmin || $isManager || $isSales): ?>
            <a href="/project/new" class="feature fade-in-up w-100 h-35 bg-widget-background block max-w-md cursor-pointer rounded-xl p-6 text-inherit no-underline opacity-0 shadow-lg transition ease-in-out">
                <h2 class="mb-2 text-xl">New Project</h2>
                <p class="text-sm">
                    Kickstart your next project with our easy-to-use project creation tools and templates.
                </p>
            </a>
        <?php endif; ?>
    </section>
</main>

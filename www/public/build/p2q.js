import{$ as m,d as w,r as X,s as E,a as P,b as q,i as H,c as z,f as se,p as N,e as R,g as C,h as O,j as Q,k as W,l as ie,m as re,n as le,o as oe}from"./assets/architect-Ciqpv-D3.js";var V={};/*!
 * jQuery UI Widget 1.14.1
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */var G;function ce(){return G||(G=1,function(o){o(jQuery)}(function(o){var i=0,l=Array.prototype.hasOwnProperty,c=Array.prototype.slice;return o.cleanData=function(e){return function(n){var a,t,s;for(s=0;(t=n[s])!=null;s++)a=o._data(t,"events"),a&&a.remove&&o(t).triggerHandler("remove");e(n)}}(o.cleanData),o.widget=function(e,n,a){var t,s,r,f={},u=e.split(".")[0];if(e=e.split(".")[1],e==="__proto__"||e==="constructor")return o.error("Invalid widget name: "+e);var g=u+"-"+e;return a||(a=n,n=o.Widget),Array.isArray(a)&&(a=o.extend.apply(null,[{}].concat(a))),o.expr.pseudos[g.toLowerCase()]=function(_){return!!o.data(_,g)},o[u]=o[u]||{},t=o[u][e],s=o[u][e]=function(_,b){if(!this||!this._createWidget)return new s(_,b);arguments.length&&this._createWidget(_,b)},o.extend(s,t,{version:a.version,_proto:o.extend({},a),_childConstructors:[]}),r=new n,r.options=o.widget.extend({},r.options),o.each(a,function(_,b){if(typeof b!="function"){f[_]=b;return}f[_]=function(){function x(){return n.prototype[_].apply(this,arguments)}function B(y){return n.prototype[_].apply(this,y)}return function(){var y=this._super,d=this._superApply,h;return this._super=x,this._superApply=B,h=b.apply(this,arguments),this._super=y,this._superApply=d,h}}()}),s.prototype=o.widget.extend(r,{widgetEventPrefix:t&&r.widgetEventPrefix||e},f,{constructor:s,namespace:u,widgetName:e,widgetFullName:g}),t?(o.each(t._childConstructors,function(_,b){var x=b.prototype;o.widget(x.namespace+"."+x.widgetName,s,b._proto)}),delete t._childConstructors):n._childConstructors.push(s),o.widget.bridge(e,s),s},o.widget.extend=function(e){for(var n=c.call(arguments,1),a=0,t=n.length,s,r;a<t;a++)for(s in n[a])r=n[a][s],l.call(n[a],s)&&r!==void 0&&(o.isPlainObject(r)?e[s]=o.isPlainObject(e[s])?o.widget.extend({},e[s],r):o.widget.extend({},r):e[s]=r);return e},o.widget.bridge=function(e,n){var a=n.prototype.widgetFullName||e;o.fn[e]=function(t){var s=typeof t=="string",r=c.call(arguments,1),f=this;return s?!this.length&&t==="instance"?f=void 0:this.each(function(){var u,g=o.data(this,a);if(t==="instance")return f=g,!1;if(!g)return o.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+t+"'");if(typeof g[t]!="function"||t.charAt(0)==="_")return o.error("no such method '"+t+"' for "+e+" widget instance");if(u=g[t].apply(g,r),u!==g&&u!==void 0)return f=u&&u.jquery?f.pushStack(u.get()):u,!1}):(r.length&&(t=o.widget.extend.apply(null,[t].concat(r))),this.each(function(){var u=o.data(this,a);u?(u.option(t||{}),u._init&&u._init()):o.data(this,a,new n(t,this))})),f}},o.Widget=function(){},o.Widget._childConstructors=[],o.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=o(n||this.defaultElement||this)[0],this.element=o(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=o(),this.hoverable=o(),this.focusable=o(),this.classesElementLookup={},n!==this&&(o.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===n&&this.destroy()}}),this.document=o(n.style?n.ownerDocument:n.document||n),this.window=o(this.document[0].defaultView||this.document[0].parentWindow)),this.options=o.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:o.noop,_create:o.noop,_init:o.noop,destroy:function(){var e=this;this._destroy(),o.each(this.classesElementLookup,function(n,a){e._removeClass(a,n)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:o.noop,widget:function(){return this.element},option:function(e,n){var a=e,t,s,r;if(arguments.length===0)return o.widget.extend({},this.options);if(typeof e=="string")if(a={},t=e.split("."),e=t.shift(),t.length){for(s=a[e]=o.widget.extend({},this.options[e]),r=0;r<t.length-1;r++)s[t[r]]=s[t[r]]||{},s=s[t[r]];if(e=t.pop(),arguments.length===1)return s[e]===void 0?null:s[e];s[e]=n}else{if(arguments.length===1)return this.options[e]===void 0?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(e){var n;for(n in e)this._setOption(n,e[n]);return this},_setOption:function(e,n){return e==="classes"&&this._setOptionClasses(n),this.options[e]=n,e==="disabled"&&this._setOptionDisabled(n),this},_setOptionClasses:function(e){var n,a,t;for(n in e)t=this.classesElementLookup[n],!(e[n]===this.options.classes[n]||!t||!t.length)&&(a=o(t.get()),this._removeClass(t,n),a.addClass(this._classes({element:a,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],a=this;e=o.extend({element:this.element,classes:this.options.classes||{}},e);function t(){var r=[];e.element.each(function(f,u){var g=o.map(a.classesElementLookup,function(_){return _}).some(function(_){return _.is(u)});g||r.push(u)}),a._on(o(r),{remove:"_untrackClassesElement"})}function s(r,f){var u,g;for(g=0;g<r.length;g++)u=a.classesElementLookup[r[g]]||o(),e.add?(t(),u=o(o.uniqueSort(u.get().concat(e.element.get())))):u=o(u.not(e.element).get()),a.classesElementLookup[r[g]]=u,n.push(r[g]),f&&e.classes[r[g]]&&n.push(e.classes[r[g]])}return e.keys&&s(e.keys.match(/\S+/g)||[],!0),e.extra&&s(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;o.each(n.classesElementLookup,function(a,t){o.inArray(e.target,t)!==-1&&(n.classesElementLookup[a]=o(t.not(e.target).get()))}),this._off(o(e.target))},_removeClass:function(e,n,a){return this._toggleClass(e,n,a,!1)},_addClass:function(e,n,a){return this._toggleClass(e,n,a,!0)},_toggleClass:function(e,n,a,t){t=typeof t=="boolean"?t:a;var s=typeof e=="string"||e===null,r={extra:s?n:a,keys:s?e:n,element:s?this.element:e,add:t};return r.element.toggleClass(this._classes(r),t),this},_on:function(e,n,a){var t,s=this;typeof e!="boolean"&&(a=n,n=e,e=!1),a?(n=t=o(n),this.bindings=this.bindings.add(n)):(a=n,n=this.element,t=this.widget()),o.each(a,function(r,f){function u(){if(!(!e&&(s.options.disabled===!0||o(this).hasClass("ui-state-disabled"))))return(typeof f=="string"?s[f]:f).apply(s,arguments)}typeof f!="string"&&(u.guid=f.guid=f.guid||u.guid||o.guid++);var g=r.match(/^([\w:-]*)\s*(.*)$/),_=g[1]+s.eventNamespace,b=g[2];b?t.on(_,b,u):n.on(_,u)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n),this.bindings=o(this.bindings.not(e).get()),this.focusable=o(this.focusable.not(e).get()),this.hoverable=o(this.hoverable.not(e).get())},_delay:function(e,n){function a(){return(typeof e=="string"?t[e]:e).apply(t,arguments)}var t=this;return setTimeout(a,n||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(n){this._addClass(o(n.currentTarget),null,"ui-state-hover")},mouseleave:function(n){this._removeClass(o(n.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(n){this._addClass(o(n.currentTarget),null,"ui-state-focus")},focusout:function(n){this._removeClass(o(n.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,a){var t,s,r=this.options[e];if(a=a||{},n=o.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],s=n.originalEvent,s)for(t in s)t in n||(n[t]=s[t]);return this.element.trigger(n,a),!(typeof r=="function"&&r.apply(this.element[0],[n].concat(a))===!1||n.isDefaultPrevented())}},o.each({show:"fadeIn",hide:"fadeOut"},function(e,n){o.Widget.prototype["_"+e]=function(a,t,s){typeof t=="string"&&(t={effect:t});var r,f=t?t===!0||typeof t=="number"?n:t.effect||n:e;t=t||{},typeof t=="number"?t={duration:t}:t===!0&&(t={}),r=!o.isEmptyObject(t),t.complete=s,t.delay&&a.delay(t.delay),r&&o.effects&&o.effects.effect[f]?a[e](t):f!==e&&a[f]?a[f](t.duration,t.easing,s):a.queue(function(u){o(this)[e](),s&&s.call(a[0]),u()})}}),o.widget})),V}ce();var Y={};/*!
 * jQuery UI Dialog 1.14.1
 * https://jqueryui.com
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 */var J;function de(){return J||(J=1,function(o){o(jQuery)}(function(o){return o.widget("ui.dialog",{version:"1.14.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(i){var l=o(this).css(i).offset().top;l<0&&o(this).css("top",i.top-l)}},resizable:!0,show:null,title:null,uiDialogTitleHeadingLevel:0,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title==null&&this.originalTitle!=null&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&o.fn.draggable&&this._makeDraggable(),this.options.resizable&&o.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var i=this.options.appendTo;return i&&(i.jquery||i.nodeType)?o(i):this.document.find(i||"body").eq(0)},_destroy:function(){var i,l=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),i=l.parent.children().eq(l.index),i.length&&i[0]!==this.element[0]?i.before(this.element):l.parent.append(this.element)},widget:function(){return this.uiDialog},disable:o.noop,enable:o.noop,close:function(i){var l=this;!this._isOpen||this._trigger("beforeClose",i)===!1||(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||o(this.document[0].activeElement).trigger("blur"),this._hide(this.uiDialog,this.options.hide,function(){l._trigger("close",i)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(i,l){var c=!1,e=this.uiDialog.siblings(".ui-front:visible").map(function(){return+o(this).css("z-index")}).get(),n=Math.max.apply(null,e);return n>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",n+1),c=!0),c&&!l&&this._trigger("focus",i),c},open:function(){var i=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=!0,this.opener=o(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){i._focusTabbable(),i._trigger("focus")}),this._makeFocusTarget(),this._trigger("open")},_focusTabbable:function(){var i=this._focusedElement;i||(i=this.element.find("[autofocus]")),i.length||(i=this.element.find(":tabbable")),i.length||(i=this.uiDialogButtonPane.find(":tabbable")),i.length||(i=this.uiDialogTitlebarClose.filter(":tabbable")),i.length||(i=this.uiDialog),i.eq(0).trigger("focus")},_restoreTabbableFocus:function(){var i=this.document[0].activeElement,l=this.uiDialog[0]===i||o.contains(this.uiDialog[0],i);l||this._focusTabbable()},_keepFocus:function(i){i.preventDefault(),this._restoreTabbableFocus()},_createWrapper:function(){this.uiDialog=o("<div>").hide().attr({tabIndex:-1,role:"dialog","aria-modal":this.options.modal?"true":null}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(i){if(this.options.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===o.ui.keyCode.ESCAPE){i.preventDefault(),this.close(i);return}if(!(i.keyCode!==o.ui.keyCode.TAB||i.isDefaultPrevented())){var l=this.uiDialog.find(":tabbable"),c=l.first(),e=l.last();(i.target===e[0]||i.target===this.uiDialog[0])&&!i.shiftKey?(this._delay(function(){c.trigger("focus")}),i.preventDefault()):(i.target===c[0]||i.target===this.uiDialog[0])&&i.shiftKey&&(this._delay(function(){e.trigger("focus")}),i.preventDefault())}},mousedown:function(i){this._moveToTop(i)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var i;this.uiDialogTitlebar=o("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(c){o(c.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=o("<button type='button'></button>").button({label:o("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(c){c.preventDefault(),this.close(c)}});var l=Number.isInteger(this.options.uiDialogTitleHeadingLevel)&&this.options.uiDialogTitleHeadingLevel>0&&this.options.uiDialogTitleHeadingLevel<=6?"h"+this.options.uiDialogTitleHeadingLevel:"span";i=o("<"+l+">").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(i,"ui-dialog-title"),this._title(i),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":i.attr("id")})},_title:function(i){this.options.title?i.text(this.options.title):i.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=o("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=o("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var i=this,l=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),o.isEmptyObject(l)||Array.isArray(l)&&!l.length){this._removeClass(this.uiDialog,"ui-dialog-buttons");return}o.each(l,function(c,e){var n,a;e=typeof e=="function"?{click:e,text:c}:e,e=o.extend({type:"button"},e),n=e.click,a={icon:e.icon,iconPosition:e.iconPosition,showLabel:e.showLabel,icons:e.icons,text:e.text},delete e.click,delete e.icon,delete e.iconPosition,delete e.showLabel,delete e.icons,typeof e.text=="boolean"&&delete e.text,o("<button></button>",e).button(a).appendTo(i.uiButtonSet).on("click",function(){n.apply(i.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var i=this,l=this.options;function c(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,n){i._addClass(o(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",e,c(n))},drag:function(e,n){i._trigger("drag",e,c(n))},stop:function(e,n){var a=n.offset.left-i.document.scrollLeft(),t=n.offset.top-i.document.scrollTop();l.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(t>=0?"+":"")+t,of:i.window},i._removeClass(o(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",e,c(n))}})},_makeResizable:function(){var i=this,l=this.options,c=l.resizable,e=this.uiDialog.css("position"),n=typeof c=="string"?c:"n,e,s,w,se,sw,ne,nw";function a(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:l.maxWidth,maxHeight:l.maxHeight,minWidth:l.minWidth,minHeight:this._minHeight(),handles:n,start:function(t,s){i._addClass(o(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",t,a(s))},resize:function(t,s){i._trigger("resize",t,a(s))},stop:function(t,s){var r=i.uiDialog.offset(),f=r.left-i.document.scrollLeft(),u=r.top-i.document.scrollTop();l.height=i.uiDialog.height(),l.width=i.uiDialog.width(),l.position={my:"left top",at:"left"+(f>=0?"+":"")+f+" top"+(u>=0?"+":"")+u,of:i.window},i._removeClass(o(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",t,a(s))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(i){this._makeFocusTarget(),this._focusedElement=o(i.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var i=this._trackingInstances(),l=o.inArray(this,i);l!==-1&&i.splice(l,1)},_trackingInstances:function(){var i=this.document.data("ui-dialog-instances");return i||(i=[],this.document.data("ui-dialog-instances",i)),i},_minHeight:function(){var i=this.options;return i.height==="auto"?i.minHeight:Math.min(i.minHeight,i.height)},_position:function(){var i=this.uiDialog.is(":visible");i||this.uiDialog.show(),this.uiDialog.position(this.options.position),i||this.uiDialog.hide()},_setOptions:function(i){var l=this,c=!1,e={};o.each(i,function(n,a){l._setOption(n,a),n in l.sizeRelatedOptions&&(c=!0),n in l.resizableRelatedOptions&&(e[n]=a)}),c&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(i,l){var c,e,n=this.uiDialog;i!=="disabled"&&(this._super(i,l),i==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),i==="buttons"&&this._createButtons(),i==="closeText"&&this.uiDialogTitlebarClose.button({label:o("<a>").text(""+this.options.closeText).html()}),i==="draggable"&&(c=n.is(":data(ui-draggable)"),c&&!l&&n.draggable("destroy"),!c&&l&&this._makeDraggable()),i==="position"&&this._position(),i==="resizable"&&(e=n.is(":data(ui-resizable)"),e&&!l&&n.resizable("destroy"),e&&typeof l=="string"&&n.resizable("option","handles",l),!e&&l!==!1&&this._makeResizable()),i==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")),i==="modal"&&n.attr("aria-modal",l?"true":null))},_size:function(){var i,l,c,e=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),e.minWidth>e.width&&(e.width=e.minWidth),i=this.uiDialog.css({height:"auto",width:e.width}).outerHeight(),l=Math.max(0,e.minHeight-i),c=typeof e.maxHeight=="number"?Math.max(0,e.maxHeight-i):"none",e.height==="auto"?this.element.css({minHeight:l,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,e.height-i)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var i=o(this);return o("<div>").css({position:"absolute",width:i.outerWidth(),height:i.outerHeight()}).appendTo(i.parent()).offset(i.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(i){return o(i.target).closest(".ui-dialog").length?!0:!!o(i.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var i=!0;this._delay(function(){i=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",(function(l){if(!i){var c=this._trackingInstances()[0];c._allowInteraction(l)||(l.preventDefault(),c._focusTabbable())}}).bind(this)),this.overlay=o("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var i=this.document.data("ui-dialog-overlays")-1;i?this.document.data("ui-dialog-overlays",i):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),o.uiBackCompat===!0&&o.widget("ui.dialog",o.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(i,l){i==="dialogClass"&&this.uiDialog.removeClass(this.options.dialogClass).addClass(l),this._superApply(arguments)}}),o.ui.dialog})),Y}de();let j=!1;const S=m("#dialog-item"),I=m("#dialog-item-form"),T=m("#item-form-btn-add"),k=m("#uom");k.data("default-options",k.html());function ue(){const o=document.getElementById("uom");m(document).on("click","a.item-edit",function(a){a.preventDefault(),j=!0,S.dialog("option","title","Edit Item"),S.dialog("open"),T.text("Save Changes"),m.ajax({url:m(this).attr("href"),type:"GET",dataType:"json"}).done(t=>{if(t.success&&t.data){const s=t.data;m("#dialog-item-form #item_uid").val(s.item_uid||""),m("#dialog-item-form #item_id").val(s.item_id||""),m("#dialog-item-form #quantity").val(s.quantity||""),m("#dialog-item-form #note").val(s.note||""),m("#dialog-item-form #uom").val(s.uom||""),i(s.item_id,s.uom,s.unit_price,s.item_uid)}else alert(t.message||"Failed to fetch item data.")}).fail((t,s,r)=>{console.error("Error deleting item:",s,r,t.responseText)})}),m("#widget-btn-add-item").on("click",function(){j=!1,S.dialog("option","title","Add Item"),S.dialog("open"),T.text("Add Item")}),m("#dialog-item").dialog({autoOpen:!1,modal:!0,minWidth:800,width:800,open:function(){X(I),m(".ui-widget-overlay").hide().fadeIn().css("z-index",1e3),m(".ui-dialog").css("z-index",2e3)},beforeClose:function(){m(".ui-widget-overlay").fadeOut(400,function(){m(this).remove()})},dialogClass:"add-item-dialog",buttons:[{id:"item-form-btn-add",text:"Save",click:function(){I.validationEngine("validate")&&(w(T,!0),j?n():e(),m(this).dialog("close"),setTimeout(()=>w(T,!1),1e3))},"aria-label":"Add Item"},{id:"item-form-btn-cancel",text:"Cancel",click:function(){m(this).dialog("close")},"aria-label":"Cancel"}]}),document.querySelector(".dialog #item_id")&&E({fieldName:".dialog #item_id",fetchUrl:"/item/index",fillFields:[{fieldSelector:"#item_id",itemKey:"item_id"},{fieldSelector:"#item_input",itemKey:"item_desc"}],minLength:2,queryParamName:"term",limitParamName:"limit",renderItem:a=>`
      <div class="autocomplete-item">
        <strong>${a.item_id}</strong><br>
        <span>${a.item_desc}</span>
      </div>`,extraSelectActions:[a=>{a.item_id&&(i(a.item_id),o.disabled=!1,o.classList.remove("disabled"))}]}),k.on("change",function(){l(m("#item_id").val(),m("#uom").val())});function i(a,t=null,s=null,r=null){a&&m.ajax({url:"/item/uom",dataType:"json",data:{term:a},type:"get"}).done(function(f){k.empty(),m.each(f,function(u,g){let _=m("<option></option>").attr("value",g.uom).text(g.uom);t&&g.uom===t&&_.attr("selected","selected"),k.append(_)}),j?c(r,q):l(a,t||m("#uom").val(),s)}).fail((f,u,g)=>{console.error("Error fetching specifier:",u,g)})}function l(a,t,s=null){!a||!t||m.ajax({url:"/item/price",data:{item_id:a,uom:t},dataType:"json"}).done(r=>{m("#unit_price").val((r==null?void 0:r.price)||s||"")}).fail((r,f,u)=>{console.error("Error fetching price:",f,u)})}function c(a,t){a&&m.ajax({url:"/item/quotedprice",data:{item_uid:a,type:t},dataType:"json"}).done(s=>{m("#unit_price").val((s==null?void 0:s.unit_price)||"")}).fail((s,r,f)=>{console.error("Error fetching price:",r,f)})}function e(){w(T,!0);let a=I.serialize()+"&project_id="+encodeURIComponent(P)+"&type="+encodeURIComponent(q);m.ajax({url:"/item/add",type:"post",data:a,contentType:"application/x-www-form-urlencoded"}).done(t=>{H.ajax.reload(),z(t.message,t.success)}).fail((t,s,r)=>{console.error("Error adding item:",s,r,t.responseText),alert("Failed to add item. Please try again.")}).always(()=>w(T,!1))}function n(){w(T,!0);let a=I.serialize()+"&type="+encodeURIComponent(q);m.ajax({url:"/item/edit",type:"post",data:a,contentType:"application/x-www-form-urlencoded"}).done(t=>{H.ajax.reload(),z(t.message,t.success)}).fail((t,s,r)=>{console.error("Error adding item:",s,r,t.responseText),alert("Failed to edit item. Please try again.")}).always(()=>w(T,!1))}m(document).on("click",".item_delete",function(a){a.preventDefault(),confirm("Are you sure you want to delete this item?")&&m.ajax({url:m(this).attr("href"),type:"GET"}).done(()=>H.ajax.reload()).fail((t,s,r)=>{console.error("Error deleting item:",s,r,t.responseText)})})}const L=$("#dialog-note-form"),A=$("#dialog-message"),D=$("#note-form-btn-add");let U=!1,Z=se("#dialog-note-form #follow_up_date",{enableTime:!0,dateFormat:"Y-m-d H:i"});function fe(){$("#dialog-message").dialog({autoOpen:!1,modal:!0,minWidth:800,width:1e3,height:650,open:function(){X(L),$(".ui-widget-overlay").hide().fadeIn().css("z-index",1e3),$(".ui-dialog").css("z-index",2e3)},beforeClose:function(){$(".ui-widget-overlay").fadeOut(400,function(){$(this).remove()})},dialogClass:"add-note-dialog",buttons:[{id:"note-form-btn-add",text:"Add Log",click:function(){L.validationEngine("validate")&&(U?i():o(),$(this).dialog("close"),setTimeout(()=>w(D,!1),1e3))},"aria-label":"Add Log"},{id:"note-form-btn-cancel",text:"Cancel",click:function(){$(this).dialog("close")},"aria-label":"Cancel"}]}),$(document).on("click",".note-edit",function(l){l.preventDefault(),U=!0,A.dialog("option","title","Edit Log"),A.dialog("open"),D.text("Save Changes"),$.ajax({url:$(this).attr("href"),type:"GET",dataType:"json"}).done(c=>{if(c.success&&c.data){const e=c.data;$("#dialog-note-form #note_id").val(e.project_note_id||""),$("#dialog-note-form #note_title").val(e.note_title||""),$("#dialog-note-form #project_note").val(e.project_note||""),$("#dialog-note-form #next_action").val(e.next_action||""),e.follow_up_date?Z.setDate(e.follow_up_date.date):Z.clear()}else alert(c.message||"Failed to fetch note data.")}).fail((c,e,n)=>{console.error("Error fetch note data:",e,n,c.responseText)})}),$("#widget-btn-add-note").on("click",function(){U=!1,A.dialog("option","title","Add Log"),A.dialog("open"),D.text("Add Note")});function o(){w(D,!0);let l=L.serialize()+"&project_id="+encodeURIComponent(P);$.ajax({url:"/note/add",type:"post",data:l,contentType:"application/x-www-form-urlencoded"}).done(c=>{N.ajax.reload(),z(c.message,c.success)}).fail((c,e,n)=>{console.error("Error adding note:",e,n,c.responseText),alert("Failed to add note. Please try again.")}).always(()=>w(D,!1))}function i(){w(D,!0);let l=L.serialize();$.ajax({url:"/note/edit",type:"post",data:l,contentType:"application/x-www-form-urlencoded"}).done(()=>{N.ajax.reload(),z(response.message,response.success)}).fail((c,e,n)=>{console.error("Error editing note:",e,n,c.responseText),alert("Failed to edit note. Please try again.")}).always(()=>w(D,!1))}$(document).on("click",".note_delete",function(l){l.preventDefault(),confirm("Are you sure you want to delete this log?")&&$.ajax({url:$(this).attr("href"),type:"get"}).done(()=>N.ajax.reload()).fail((c,e,n)=>{console.error("Error deleting item:",e,n,c.responseText)})})}function he(){const o=document.querySelector("#architect-details"),i=document.querySelector("#architect_name"),l=document.querySelector("#contractor-details"),c=document.querySelector("#general_contractor_name"),e=document.querySelector("#awarded_contractor_name");E({fieldName:"#shared_id",fetchUrl:"/user/fetchbypattern",fillFields:[{fieldSelector:"#shared_id",itemKey:"id"}],renderItem:d=>`<div><strong>${d.id}</strong><br>${d.name}</div>`}),o&&i.value.trim()!==""&&(o.open=!0),l&&(c.value.trim()!==""||e.value.trim()!=="")&&(l.open=!0),R&&R.addEventListener("change",()=>{document.querySelector("#form-btn-save-project").disabled=!1,C({unsave:!0,lastChanged:"project"})});const n=document.getElementById("#form-btn-save-project");n&&n.addEventListener("click",async()=>{if(R.checkValidity()){c.value.trim()===""&&(document.querySelector("#general_contractor_id").value=""),e.value.trim()===""&&(document.querySelector("#awarded_contractor_id").value=""),document.querySelector(".loading").style.display="flex",C({unsave:!1});try{const h=await(await fetch(O.action,{method:O.method,body:new URLSearchParams(new FormData(O)),headers:{Accept:"application/json"}})).json();h.success?window.location.href=h.redirect:alert(h.message||"Failed to save project.")}catch(d){console.error("Save failed:",d),alert("An error occurred while saving the project.")}finally{document.querySelector(".loading").style.display="none"}}}),document.querySelectorAll(".delete_pro").forEach(d=>{d.addEventListener("click",async()=>{if(confirm("Are you sure you want to delete this project?")){document.querySelector(".loading").style.display="flex";try{const p=await(await fetch(`/project/${P}/delete`,{headers:{"X-Requested-With":"XMLHttpRequest"}})).json();p.success?window.location.href="/index/home":alert(p.message||"Failed to delete the project.")}catch(h){console.error("Delete failed:",h),alert("Error occurred while deleting the project.")}finally{document.querySelector(".loading").style.display="none"}}})});let a=$("#architect_name, #architect_id, #architect_company_id, #architect_rep_id, #architect_type_id, #architect_class_id"),t=$("#address_list"),s=$("#address_id, #address_name, #phys_address1, #phys_address2, #phys_city, #phys_state, #phys_postal_code, #phys_country, #central_phone_number, #email_address, #url"),r=$("#specifier_name"),f=$("#specifier_id, #specifier_address_id, #specifier_first_name, #specifier_last_name, #specifier_job_title, #specifier_phone_number, #specifier_email");$("#add_architect").on("click",function(){[a,s,f].forEach(d=>d.val("").prop("readonly",!1)),[t,r].forEach(d=>d.html('<option value="">-- Please search for an architect first --</option>'))}),E({fieldName:"#architect_name",fetchUrl:"/architect",fillFields:[],minLength:2,queryParamName:"search",limitParamName:"limit",renderItem:d=>`
    <div class="autocomplete-item">
      <strong>${d.architect_name}</strong><br>
      <span>${d.architect_rep_id} - ${d.company_id}</span>
    </div>`,extraSelectActions:[d=>{d.architect_id&&(u(d.architect_id),g(d.architect_id),_(d.architect_id))}]});function u(d){d&&$.ajax({url:`/architect/${d}/fetchfull`,dataType:"json",type:"get"}).done(function(h){h?a.each(function(){let p=$(this).attr("id");$(this).val(h[p]||""),$("#architect_company_id").val(h.company_id),$("#architect_name").prop("readonly",!1)}):(a.val("").prop("readonly",!1),console.warn("No architect data found for ID:",d))}).fail(function(h,p,v){console.error("Error fetching architect details:",p,v)})}function g(d){d&&$.ajax({url:`/architect/${d}/address`,dataType:"json",type:"get"}).done(function(h){if(t.empty(),!h||h.length===0){t.html('<option value="">No addresses found, please add.</option>'),s.val("").prop("readonly",!1);return}else $.each(h,function(p,v){t.append('<option value="'+v.address_id+'">'+v.name+"</option>")}),t.append('<option value="new">+ Add New Address</option>'),t.prop("selectedIndex",0),x()}).fail(function(h,p,v){console.error("Error fetching address:",p,v)})}function _(d){d&&$.ajax({url:`/architect/${d}/fetchspecs`,dataType:"json",type:"get"}).done(function(h){if(r.empty(),!h||h.length===0){$("#specifier_name").html('<option value="">No specifiers found, please add.</option>'),f.val("").prop("readonly",!1);return}else $.each(h,function(p,v){r.append('<option value="'+v.specifier_id+'">'+v.first_name+" "+v.last_name+"</option>")}),r.append('<option value="new">+ Add New Specifier</option>'),r.prop("selectedIndex",0),b()}).fail(function(h,p,v){console.error("Error fetching specifier:",p,v)})}$("#specifier_name").on("change",function(){$(this).val()==="new"?(f.val(""),f.prop("readonly",!1)):b()}),$("#address_list").on("change",function(){$(this).val()==="new"?(s.val(""),s.prop("readonly",!1)):x()});function b(){let d=$("#specifier_name").val();!d||d==="new"||$.ajax({url:`/architect/${d}/specinfo`,dataType:"json",type:"get"}).done(function(h){h&&f.each(function(){let p=$(this).attr("id");$(this).val(h[p]||""),$("#specifier_address_id").val(h.address_id),$("#specifier_first_name").val(h.first_name),$("#specifier_last_name").val(h.last_name),$("#specifier_job_title").val(h.job_title),$("#specifier_phone_number").val(h.central_phone_number),$("#specifier_email").val(h.email_address)})}).fail(function(h,p,v){console.error("Error fetching specifier details:",p,v)})}function x(){let d=$("#address_list").val();!d||d==="new"||$.ajax({url:`/architect/${d}/addressinfo`,dataType:"json",type:"get"}).done(function(h){h&&s.each(function(){let p=$(this).attr("id");$(this).val(h[p]||""),$("#address_name").val(h.name)})}).fail(function(h,p,v){console.error("Error fetching specifier details:",p,v)})}[{fieldName:"#general_contractor_name",targetPrefix:"general_contractor"},{fieldName:"#awarded_contractor_name",targetPrefix:"awarded_contractor"}].forEach(({fieldName:d,targetPrefix:h})=>{E({fieldName:d,fetchUrl:"/customer",fillFields:[],minLength:2,queryParamName:"search",limitParamName:"limit",renderItem:p=>`
        <div class="autocomplete-item">
          <strong>${p.customer_id} - ${p.company_id}</strong><br>
          <span>${p.customer_name}</span>
        </div>`,extraSelectActions:[p=>{p.customer_id&&y(p.customer_id,h)}]})});function y(d,h){fetch(`/customer/${d}/fetchbyid`).then(p=>p.json()).then(p=>{if(p){const v=document.getElementById(`${h}_id`),K=document.getElementById(`${h}_name`);v&&(v.value=p.customer_id),K&&(K.value=p.customer_name)}}).catch(p=>{console.error(`Failed to fetch contractor (${d}):`,p)})}}const ee=$("#dialog-make-quote-form"),M=$("#dialog-make-quote"),F=$("#customer-form-btn-add");$("#customer_id, #customer_name, #company_id, #salesrep_full_name");let te=$("#contact_name");$("#contact_id, #first_name, #last_name, #phys_address1, #phys_address2, #phys_city, #phys_state, #phys_postal_code, #phys_country, #central_phone_number, #email_address");te.data("default-options",te.html());function me(){const o=document.getElementById("form-btn-save-quote"),i=document.getElementById("quote-content");i&&i.addEventListener("change",()=>{o.disabled=!1,C({unsave:!0,lastChanged:"project"})}),o&&o.addEventListener("click",function(a){a.preventDefault();const t=document.querySelector("form"),s=new Event("submit",{cancelable:!0});t.dispatchEvent(s),C({unsave:!1})}),$(".quote-action-button").on("click",async function(a){var g;a.preventDefault();const t=$(this),s=t.data("action"),r=(g=t.data("label"))==null?void 0:g.toLowerCase();if(!s||["submit","approve","submit-approve"].includes(s)&&!Q.validationEngine("validate")||!confirm(`You are about to ${r} this quote. Continue?`))return;t.prop("disabled",!0),C({unsave:!1});let u=Q.serialize();$(".loading").show();try{const _=await $.post(`/quote/${W}/${s}`,u);_.success?(window.scrollTo(0,0),location.reload()):alert(_.message||`Failed to ${r} the quote.`)}catch(_){console.error("Submit failed:",_),alert(`Error occurred while trying to ${r} the quote.`)}finally{$(".loading").hide(),setTimeout(()=>t.prop("disabled",!1),1e3)}}),$(".delete_quote").on("click",async function(a){if(a.preventDefault(),confirm("Are you sure you want to delete this quote?")==!0){C({unsave:!1}),$(".loading").show();try{const t=await $.ajax({url:`/quote/${W}/delete`,type:"GET",dataType:"json"});t.success?window.location.href="/index/home":alert(t.message||"Failed to delete the quote.")}catch(t){console.error("Delete failed:",t),alert("Error occurred while deleting the quote.")}finally{$(".loading").hide()}}}),$("a.quote-edit-again").on("click",function(a){confirm("You are about to edit this approved quote. Continue?")==!0?(a.preventDefault(),$(".loading").show(),$.ajax({url:`/quote/${W}/edit`,type:"get",success:function(t){location.reload()}}),$(".loading").hide()):a.preventDefault()}),M.dialog({autoOpen:!1,modal:!0,minWidth:800,width:1200,height:650,open:function(){X(ee),$(".ui-widget-overlay").hide().fadeIn().css("z-index",1e3),$(".ui-dialog").css("z-index",2e3)},beforeClose:function(){$(".ui-widget-overlay").fadeOut(400,function(){$(this).remove()})},dialogClass:"add-customer-dialog",buttons:[{id:"customer-form-btn-add",text:"Make Quote",click:function(){ee.validationEngine("validate")&&(w(F,!0),n(),$(this).dialog("close"),setTimeout(()=>w(F,!1),1e3))},"aria-label":"Make Quote"},{id:"customer-form-btn-cancel",text:"Cancel",click:function(){$(this).dialog("close")},"aria-label":"Cancel"}]}),$("#widget-btn-add-quote, .make-quote").on("click",function(a){a.preventDefault(),M.dialog("open")});function l(a){const t=a.querySelector("input[id$='_customer_name']"),s=a.dataset.type;E({fieldName:`#${t.id}`,fetchUrl:"/customer",fillFields:[{fieldSelector:`#${s}_customer_id`,itemKey:"customer_id"},{fieldSelector:`#${s}_customer_name`,itemKey:"customer_name"},{fieldSelector:`#${s}_company_id`,itemKey:"company_id"},{fieldSelector:`#${s}_salesrep_full_name`,itemKey:"salesrep_full_name"}],minLength:2,queryParamName:"search",limitParamName:"limit",renderItem:r=>`<div>
        <b>${r.customer_id}</b> - ${r.customer_name} - 
        <small>${r.from_P21}</small>
      </div>`,extraSelectActions:[r=>{r.customer_id&&c(r.customer_id,a)}]})}function c(a,t){a&&fetch(`/customer/${a}/contacts`).then(s=>s.json()).then(s=>{const r=t.querySelector("select[id$='_contact_name']");r&&(r.innerHTML="",s.forEach(f=>{const u=document.createElement("option");u.value=f.contact_id,u.textContent=f.contact_full_name,r.appendChild(u)}),e(t))}).catch(s=>{console.error("Failed to fetch contacts:",s)})}function e(a){const t=a.querySelector("select[id$='_contact_name']"),s=t==null?void 0:t.value;s&&fetch(`/customer/${s}/contactinfo`).then(r=>r.json()).then(r=>{const f=a.dataset.type;["contact_id","first_name","last_name","phys_address1","phys_address2","phys_city","phys_state","phys_postal_code","phys_country","central_phone_number","email_address"].forEach(g=>{const _=document.getElementById(`${f}_${g}`);_&&(_.value=r[g]||"")})}).catch(r=>{console.error("Failed to fetch contact info:",r)})}document.querySelectorAll(".customer-section").forEach(a=>{l(a);const t=a.querySelector("select[id$='_contact_name']");t&&t.addEventListener("change",()=>e(a))});function n(){w(F,!0);let a=$("#dialog_contact_id").val(),t="";q==="project"&&(t=O.serialize()+"&contact_id="+encodeURIComponent(a)+"&project_id="+encodeURIComponent(P)),q==="quote"&&(t="&contact_id="+encodeURIComponent(a)+"&project_id="+encodeURIComponent($("#project_id").val())),$(".loading").show(),$.ajax({url:"/quote",type:"post",data:t,contentType:"application/x-www-form-urlencoded",dataType:"json"}).done(s=>{s.success&&s.quote_id?window.location.href=`/quote/${s.quote_id}/edit`:alert(s.message||"Failed to make quote. Please try again.")}).fail((s,r,f)=>{console.error("Error making quote:",r,f,s.responseText),alert("Failed to make quote. Please try again.")}).always(()=>{w(F,!1),$(".loading").hide()})}}function ne(){const o=document.querySelector(".search-architect-button"),i=document.getElementById("search-overlay"),l=document.getElementById("close-search"),c=document.getElementById("architect-search"),e=document.body;o&&o.addEventListener("click",()=>{i.classList.add("active"),e.classList.add("noscroll"),setTimeout(()=>c.focus(),100)});function n(){i.classList.remove("active"),e.classList.remove("noscroll"),setTimeout(()=>c.value="",400)}l&&(l.addEventListener("click",n),document.addEventListener("keydown",a=>{a.key==="Escape"&&n()}))}function ae(){document.querySelectorAll('a.widget-link[href^="#"]').forEach(o=>{o.addEventListener("click",function(i){const l=this.getAttribute("href").substring(1),c=document.getElementById(l);if(c){i.preventDefault();const a=c.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:a,behavior:"smooth"}),setTimeout(()=>{c.classList.add("highlighted"),setTimeout(()=>c.classList.remove("highlighted"),1500)},500)}})})}window.$=m;window.jQuery=m;document.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector(".theme-switcher-menu .icon");document.querySelector(".button.theme-switcher-menu").addEventListener("click",c),e(),n(localStorage.getItem("theme")||"material_blue");function l(y){if(!["light","dark"].includes(y)){console.error("Invalid theme name:",y);return}localStorage.setItem("theme",y),document.documentElement.className=y,e(),n(y)}function c(){const d=localStorage.getItem("theme")==="dark"?"light":"dark";l(d)}function e(){(localStorage.getItem("theme")||"light")==="dark"?(o.classList.remove("icon-theme-light"),o.classList.add("icon-theme-dark")):(o.classList.remove("icon-theme-dark"),o.classList.add("icon-theme-light"))}function n(y){const d=document.querySelector("link[data-flatpickr-theme]");d&&d.remove();let h;y==="dark"?h="dark":h="material_blue";const p=`https://npmcdn.com/flatpickr/dist/themes/${h}.css`,v=document.createElement("link");v.rel="stylesheet",v.type="text/css",v.href=p,v.setAttribute("data-flatpickr-theme","true"),document.head.appendChild(v)}const a=document.querySelector(".top-navigation"),t=document.querySelector(".main-menu-toggle"),s=document.querySelector(".main-menu-toggle .icon"),r=document.querySelector(".main-menu-toggle .visually-hidden");t&&t.addEventListener("click",f);function f(){const y=a.classList.contains("show-nav");a.classList.toggle("show-nav"),y?u("Open main menu","false","icon-menu","Close main menu"):u("Close main menu","true","icon-cancel","Open main menu")}function u(y,d,h,p){t.setAttribute("title",y),t.setAttribute("aria-label",y),t.setAttribute("aria-expanded",d),s.classList.remove("icon-menu","icon-cancel"),s.classList.add(h),r.textContent=p}const g=document.getElementById("centura-account-button"),_=document.getElementById("centura-account");g.addEventListener("click",()=>{const y=g.getAttribute("aria-expanded")==="true";g.setAttribute("aria-expanded",String(!y)),_.style.display=y?"none":"block"}),document.addEventListener("click",y=>{!_.contains(y.target)&&!g.contains(y.target)&&(_.style.display="none",g.setAttribute("aria-expanded","false"))}),m(".hero.fade-in-up, .features.fade-in-up").addClass("show"),m(".feature.fade-in-up").each(function(y){let d=m(this);setTimeout(function(){d.addClass("show")},y*300)});let b=!1;m("#options-button").on("click",function(){b!=!0?(m("#options-menu-items").slideToggle({start:function(){m(this).css("display","flex"),m(".options-menu").css("transform","translateX(-20%)")}}),b=!0):(m("#options-menu-items").slideToggle(),m(".options-menu").css("transform","translateX(60%)"),b=!1)}),ae(),ne(),ie(),re(),ue(),fe(),he(),me(),le(),oe(),new URLSearchParams(window.location.search).get("open")==="make-quote"&&M.dialog("open"),document.querySelectorAll(".top-level-entry").forEach(y=>{y.addEventListener("click",function(){document.querySelectorAll(".top-level-entry").forEach(d=>d.classList.remove("active")),this.classList.add("active")})})});document.body.addEventListener("htmx:afterSwap",function(o){ae(),(o.target.querySelector("#search-overlay")||o.target.querySelector(".search-architect-button"))&&ne(),o.target.id==="content"&&(ie(),setTimeout(oe,50))});

import i from"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/module.esm.js";import{s as a}from"./assets/flashmessage-C-RgOmzp.js";function d(){return{currentEl:null,hoverEl:null,init(){this.updateUnderline(),document.body.addEventListener("htmx:afterSwap",()=>{this.$nextTick(()=>this.updateUnderline())})},setActive(e){this.currentEl=e.target.closest(".top-level-entry"),this.moveUnderline(this.currentEl)},loadSidebar(e){htmx.ajax("GET",e,{target:"#options-menu-items",swap:"innerHTML"})},setHover(e){this.hoverEl=e.target.closest(".top-level-entry"),this.moveUnderline(this.hoverEl)},clearHover(){if(this.hoverEl=null,this.currentEl)this.moveUnderline(this.currentEl);else{const e=this.$refs.underline;e.style.width="0"}},updateUnderline(){this.currentEl=document.querySelector(".top-level-entry.active"),this.currentEl&&this.moveUnderline(this.currentEl)},moveUnderline(e){if(!e)return;const t=this.$refs.underline,n=e.getBoundingClientRect(),r=e.closest(".nav-wrapper").getBoundingClientRect(),s=n.width,o=n.left-r.left;t.style.transition="width 0.5s cubic-bezier(0.25, 1.5, 0.5, 1), transform 0.5s cubic-bezier(0.25, 1.5, 0.5, 1)",t.style.width=`${s}px`,t.style.transform=`translateX(${o}px)`}}}function l(){return{loading:!1,requestCount:0,timeoutId:null,errorMessage:"",init(){document.body.addEventListener("htmx:beforeRequest",()=>{this.requestCount++,this.loading=!0,this.errorMessage="",this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{this.requestCount=0,this.loading=!1,this.errorMessage="Request timed out. Please try again."},1e4)});const e=()=>{this.requestCount=Math.max(0,this.requestCount-1),this.requestCount===0&&(this.loading=!1,this.timeoutId&&clearTimeout(this.timeoutId))},t=(n="Something went wrong. Please try again.")=>{a(n,!1)};document.body.addEventListener("htmx:afterSwap",()=>{e()}),document.body.addEventListener("htmx:responseError",()=>{e(),t()}),document.body.addEventListener("htmx:sendError",()=>{e(),t()}),document.body.addEventListener("htmx:timeout",()=>{e(),this.errorMessage="Request timed out. Please try again."})}}}window.Alpine=i;document.addEventListener("alpine:init",()=>{i.data("navUnderline",d),i.data("loadingState",l)});i.start();
